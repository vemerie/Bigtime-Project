{"ast":null,"code":"\"use strict\";\n\nconst signalR = require(\"@microsoft/signalr\");\n\nvar customerDashboardConnection = new signalR.HubConnectionBuilder().withUrl(\"http://localhost:7008/bookingsHub\").configureLogging(signalR.LogLevel.Information).build();\nvar salesDashboardConnection = new signalR.HubConnectionBuilder().withUrl(\"http://localhost:7008/salesHub\").configureLogging(signalR.LogLevel.Information).build();\ncustomerDashboardConnection.on(\"currentCustomerBookingsDashboardWithData\", function (model) {\n  console.log(\"Current customer bookings dashboard\");\n  console.log(model);\n});\nsalesDashboardConnection.on(\"currentTotalSalesByTrip\", function (model) {\n  console.log(\"Current total sales by trip\");\n  console.log(model);\n});\nsalesDashboardConnection.on(\"currentTotalSalesByVehicle\", function (model) {\n  console.log(\"Current total sales by vehicle\");\n  console.log(model);\n});\nsalesDashboardConnection.on(\"currentTotalSales\", function (model) {\n  console.log(\"Current total sales\");\n  console.log(model);\n});\nsalesDashboardConnection.on(\"currentSalesByTerminal\", function (model) {\n  console.log(\"Current sales by terminal\");\n  console.log(model);\n});\nsalesDashboardConnection.on(\"currentSalesByRoute\", function (model) {\n  console.log(\"Current sales by route\");\n  console.log(model);\n});\ncustomerDashboardConnection.onclose(async () => {\n  await start();\n});\nsalesDashboardConnection.onclose(async () => {\n  await start();\n});\n\nasync function startCustomerDashboardConnection() {\n  try {\n    await customerDashboardConnection.start();\n    console.log(\"connected to customer bookings dashboard\");\n  } catch (err) {\n    console.log(err);\n    setTimeout(() => start(), 5000);\n  }\n}\n\n;\n\nasync function startSalesDashboardConnection() {\n  try {\n    await salesDashboardConnection.start();\n    console.log(\"connected to sales dashboard\");\n  } catch (err) {\n    console.log(err);\n    setTimeout(() => start(), 5000);\n  }\n}\n\n; // Start the connection.\n\nstartCustomerDashboardConnection();\nstartSalesDashboardConnection();","map":{"version":3,"sources":["C:/Users/Viktor/Desktop/Pazon/Bigtime-Project/hooks/live_dashboard_copy.js"],"names":["signalR","require","customerDashboardConnection","HubConnectionBuilder","withUrl","configureLogging","LogLevel","Information","build","salesDashboardConnection","on","model","console","log","onclose","start","startCustomerDashboardConnection","err","setTimeout","startSalesDashboardConnection"],"mappings":"AAAA;;AACA,MAAMA,OAAO,GAAGC,OAAO,CAAC,oBAAD,CAAvB;;AAGA,IAAIC,2BAA2B,GAAG,IAAIF,OAAO,CACxCG,oBAD6B,GAE7BC,OAF6B,CAErB,mCAFqB,EAG7BC,gBAH6B,CAGZL,OAAO,CAACM,QAAR,CAAiBC,WAHL,EAI7BC,KAJ6B,EAAlC;AAMA,IAAIC,wBAAwB,GAAG,IAAIT,OAAO,CACrCG,oBAD0B,GAE1BC,OAF0B,CAElB,gCAFkB,EAG1BC,gBAH0B,CAGTL,OAAO,CAACM,QAAR,CAAiBC,WAHR,EAI1BC,KAJ0B,EAA/B;AAOAN,2BAA2B,CAACQ,EAA5B,CAA+B,0CAA/B,EAA2E,UAAUC,KAAV,EAAiB;AACxFC,EAAAA,OAAO,CAACC,GAAR,CAAY,qCAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,CAHD;AAKAF,wBAAwB,CAACC,EAAzB,CAA4B,yBAA5B,EAAuD,UAAUC,KAAV,EAAiB;AACpEC,EAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,CAHD;AAKAF,wBAAwB,CAACC,EAAzB,CAA4B,4BAA5B,EAA0D,UAAUC,KAAV,EAAiB;AACvEC,EAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,CAHD;AAKAF,wBAAwB,CAACC,EAAzB,CAA4B,mBAA5B,EAAiD,UAAUC,KAAV,EAAiB;AAC9DC,EAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,CAHD;AAKAF,wBAAwB,CAACC,EAAzB,CAA4B,wBAA5B,EAAsD,UAAUC,KAAV,EAAiB;AACnEC,EAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,CAHD;AAKAF,wBAAwB,CAACC,EAAzB,CAA4B,qBAA5B,EAAmD,UAAUC,KAAV,EAAiB;AAChEC,EAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,CAHD;AAKAT,2BAA2B,CAACY,OAA5B,CAAoC,YAAY;AAC5C,QAAMC,KAAK,EAAX;AACH,CAFD;AAGAN,wBAAwB,CAACK,OAAzB,CAAiC,YAAY;AACzC,QAAMC,KAAK,EAAX;AACH,CAFD;;AAIA,eAAeC,gCAAf,GAAkD;AAC9C,MAAI;AACA,UAAMd,2BAA2B,CAACa,KAA5B,EAAN;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAY,0CAAZ;AACH,GAHD,CAGE,OAAOI,GAAP,EAAY;AACVL,IAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACAC,IAAAA,UAAU,CAAC,MAAMH,KAAK,EAAZ,EAAgB,IAAhB,CAAV;AACH;AACJ;;AAAA;;AAED,eAAeI,6BAAf,GAA+C;AAC3C,MAAI;AACA,UAAMV,wBAAwB,CAACM,KAAzB,EAAN;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ;AACH,GAHD,CAGE,OAAOI,GAAP,EAAY;AACVL,IAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACAC,IAAAA,UAAU,CAAC,MAAMH,KAAK,EAAZ,EAAgB,IAAhB,CAAV;AACH;AACJ;;AAAA,C,CAED;;AACAC,gCAAgC;AAChCG,6BAA6B","sourcesContent":["\"use strict\";\r\nconst signalR = require(\"@microsoft/signalr\");\r\n\r\n\r\nvar customerDashboardConnection = new signalR\r\n    .HubConnectionBuilder()\r\n    .withUrl(\"http://localhost:7008/bookingsHub\")\r\n    .configureLogging(signalR.LogLevel.Information)\r\n    .build();\r\n\r\nvar salesDashboardConnection = new signalR\r\n    .HubConnectionBuilder()\r\n    .withUrl(\"http://localhost:7008/salesHub\")\r\n    .configureLogging(signalR.LogLevel.Information)\r\n    .build();\r\n\r\n\r\ncustomerDashboardConnection.on(\"currentCustomerBookingsDashboardWithData\", function (model) {\r\n    console.log(\"Current customer bookings dashboard\");\r\n    console.log(model);\r\n});\r\n\r\nsalesDashboardConnection.on(\"currentTotalSalesByTrip\", function (model) {\r\n    console.log(\"Current total sales by trip\");\r\n    console.log(model);\r\n});\r\n\r\nsalesDashboardConnection.on(\"currentTotalSalesByVehicle\", function (model) {\r\n    console.log(\"Current total sales by vehicle\");\r\n    console.log(model);\r\n});\r\n\r\nsalesDashboardConnection.on(\"currentTotalSales\", function (model) {\r\n    console.log(\"Current total sales\");\r\n    console.log(model);\r\n});\r\n\r\nsalesDashboardConnection.on(\"currentSalesByTerminal\", function (model) {\r\n    console.log(\"Current sales by terminal\");\r\n    console.log(model);\r\n});\r\n\r\nsalesDashboardConnection.on(\"currentSalesByRoute\", function (model) {\r\n    console.log(\"Current sales by route\");\r\n    console.log(model);\r\n});\r\n\r\ncustomerDashboardConnection.onclose(async () => {\r\n    await start();\r\n});\r\nsalesDashboardConnection.onclose(async () => {\r\n    await start();\r\n});\r\n\r\nasync function startCustomerDashboardConnection() {\r\n    try {\r\n        await customerDashboardConnection.start();\r\n        console.log(\"connected to customer bookings dashboard\");\r\n    } catch (err) {\r\n        console.log(err);\r\n        setTimeout(() => start(), 5000);\r\n    }\r\n};\r\n\r\nasync function startSalesDashboardConnection() {\r\n    try {\r\n        await salesDashboardConnection.start();\r\n        console.log(\"connected to sales dashboard\");\r\n    } catch (err) {\r\n        console.log(err);\r\n        setTimeout(() => start(), 5000);\r\n    }\r\n};\r\n\r\n// Start the connection.\r\nstartCustomerDashboardConnection();\r\nstartSalesDashboardConnection();"]},"metadata":{},"sourceType":"script"}